// generated by polka.codes
// x86_64-specific JIT compilation for PolkaVM

#ifndef X64_HELPER_HH
#define X64_HELPER_HH

#include <cstdint>
#include <cstddef>

// Compiles PolkaVM bytecode to x86_64 machine code
//
// Error codes:
// - 0: Success
// - 1: Invalid input (null buffer or zero size)
// - 2: Invalid output parameter
// - Other: AsmJit error codes
//
// Register usage (System V ABI):
// - rdi: registers_ptr (guest VM registers array)
// - rsi: memory_base_ptr (guest VM memory)
// - edx: memory_size (guest VM memory size)
// - rcx: gas_ptr (guest VM gas counter)
// - r8d: initial_pvm_pc (starting program counter)
// - r9: invocation_context_ptr (JITHostFunctionTable)
int32_t compilePolkaVMCode_x64(
    const uint8_t* _Nonnull codeBuffer,
    size_t codeSize,
    uint32_t initialPC,
    uint32_t jitMemorySize,
    void* _Nullable * _Nonnull funcOut);

#endif // X64_HELPER_HH
