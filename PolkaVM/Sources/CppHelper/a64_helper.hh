// generated by polka.codes
// AArch64-specific JIT compilation for PolkaVM

#ifndef A64_HELPER_HH
#define A64_HELPER_HH

#include <cstdint>
#include <cstddef>

// Compiles PolkaVM bytecode to AArch64 machine code
// 
// Error codes:
// - 0: Success
// - 1: Invalid input (null buffer or zero size)
// - 2: Invalid output parameter
// - Other: AsmJit error codes
//
// Register usage (AArch64 ABI):
// - x0: registers_ptr (guest VM registers array)
// - x1: memory_base_ptr (guest VM memory)
// - w2: memory_size (guest VM memory size)
// - x3: gas_ptr (guest VM gas counter)
// - w4: initial_pvm_pc (starting program counter)
// - x5: invocation_context_ptr (JITHostFunctionTable)
int32_t compilePolkaVMCode_a64(
    const uint8_t* _Nonnull codeBuffer,
    size_t codeSize,
    uint32_t initialPC,
    uint32_t jitMemorySize,
    void* _Nullable * _Nonnull funcOut);

#endif // A64_HELPER_HH
